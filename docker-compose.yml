version: "3.8"
services:
  product-service:
    environment:
      - PRODUCT_PROFILE
    container_name: product-service
    build:
        context: .
        dockerfile: ./product-service/Dockerfile
    image: product-service:latest
    hostname: product-service
    ports:
      - 8091:8091
    networks:
      online-store:
        ipv4_address: 192.168.0.11

  registry-service:
    container_name: registry-service
    build:
      context: .
      dockerfile: ./registry-service/Dockerfile
    image: registry-service:latest
    hostname: registry-service
    ports:
      - 8082:8082
    networks:
      online-store:
        ipv4_address: 192.168.0.3

  config-service:
    container_name: config-service
    build:
      context: .
      dockerfile: ./config-service/Dockerfile
    image: config-service:latest
    hostname: config-service
    ports:
      - 8081:8081
    networks:
      online-store:
        ipv4_address: 192.168.0.2

networks:
  online-store:
    driver: bridge
    ipam:
      config:
        - subnet: "192.168.0.0/24"
